{% extends 'central-base.html' %}
{% load static %}

{% block menu %}
  
    <div class="px-4 py-6 h-screen">
      <div class="bg-zinc-400 h-2/3 text-center py-4 ">
          <div>
              <h3 class="text-2xl font-semibold"> Registros </h3>
              <p> Lorem ipsum. </p>
          </div>
          <div>
              <h3 class="text-2xl font-semibold"> Filtrar registros </h3>
              <form action="." method="POST">
                  <input/>
              </form>
              <a href="{% url 'nuevoRegistro' %}">
                Crear un registro!
              </a>
          </div>
          <div class="bg-zinc-400 h-2/3 text-center py-4 h-screen">
              <table class="min-w-full divide-y divide-gray-300">
                  <thead>
                        <tr>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">n° Tracto</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">Estado</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">Equipo</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">Fecha</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">Hora</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">Nombre Conductor</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">PPU semi remolque</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">n° contenedor</th>
                          <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">n° sello</th>
                        </tr>
                        {% for registro in registros %}
                        <tr>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.tracto }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.cargado }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ equipo }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.fecha }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.hora }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.idconductor }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.ppu }}</th>
                          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3">{{ registro.contenedor }}</th>
                          <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ registro.sello }}</th>
                        </tr>
                        <tr>
                          <th colspan="10"></th>
                        </tr>
                        {% endfor %}
                  </thead>
            </table>
          </div>
        </div>
    </div>    

{% endblock %}
                    <tbody class="bg-white">
                    {% for e in tasks %}
                      {% if e.isdone == 'No completado'%}
                      <tr class="even:bg-gray-50">
                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-3"> {{ e.incharge }} </td>
                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-3"> {{ e.tasktitle }} </td>
                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-3"> {{ e.taskdescription }} </td>
                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"> {{ e.isdone }} </td>
                        <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-3">
                          <form action="{{ e.title }}" method="POST">
                            {% csrf_token %}
                            <input class="hidden" id="id" name="titulo" value="{{ e.tasktitle }}"></input>
                            <button type='submit'> Cerrar tarea </button>
                          </form>
                        </td>
                      </tr>
                      {% endif %}
                    {% endfor %}
                    </tbody>
                  </table>
            </div>
        </div>
    </div>


<h1>
    Formulario para filtrar resultados.
</h1>
<form action="." method="POST">
    <input/>
</form>
<a href="{% url 'nuevoRegistro' %}">
    Crear un registro!
</a>
<h1>
    Resultados.
</h1>
<ul>
    {% for e in registros %}
    <div>
        <li> 
            {{ e.tracto }} 
        </li>
    </div>
    {% endfor %}
</ul>
